<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="662px" height="408px" viewBox="-0.5 -0.5 662 408" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-21T16:38:54.530Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/18.0.6 Chrome/100.0.4896.143 Electron/18.2.3 Safari/537.36&quot; etag=&quot;wcZFYiBWrhgjMTQaQgpy&quot; version=&quot;18.0.6&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;Go7ODr88gcL93da7TFws&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-10-37-113-30-0"><rect x="10" y="37" width="113" height="30"/></clipPath><clipPath id="mx-clip-292-37-139-30-0"><rect x="292" y="37" width="139" height="30"/></clipPath><clipPath id="mx-clip-221-270-150-30-0"><rect x="221" y="270" width="150" height="30"/></clipPath><clipPath id="mx-clip-221-301-150-30-0"><rect x="221" y="301" width="150" height="30"/></clipPath><clipPath id="mx-clip-472-270-183-30-0"><rect x="472" y="270" width="183" height="30"/></clipPath><clipPath id="mx-clip-472-301-183-30-0"><rect x="472" y="301" width="183" height="30"/></clipPath></defs><g><path d="M 5 37 L 5 7 L 127 7 L 127 37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 5 37 L 5 67 L 127 67 L 127 37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 5 37 L 127 37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" font-size="12px"><text x="11.5" y="26.5">FlywightFactory</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-10-37-113-30-0)" font-size="12px"><text x="11.5" y="56.5">GetFlyweight(key)</text></g><path d="M 29 374 L 29 263 L 29.03 75.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 29.03 68.99 L 31.37 75.99 L 26.7 75.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 102 389 L 159 389 L 159 253.41 L 209.31 253.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 214.56 253.38 L 207.57 256.88 L 209.31 253.38 L 207.56 249.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="2" y="374" width="100" height="30" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 389px; margin-left: 52px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><b>Client</b></div></div></div></foreignObject><text x="52" y="393" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Client</text></switch></g><path d="M 287 37 L 287 7 L 435 7 L 435 37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 287 37 L 287 67 L 435 67 L 435 37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 287 37 L 435 37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" font-style="italic" pointer-events="none" font-size="12px"><text x="293.5" y="26.5">Flyweight</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" pointer-events="none" clip-path="url(#mx-clip-292-37-139-30-0)" font-size="12px"><text x="293.5" y="56.5">Operation(extrinsicState)</text></g><path d="M 295.48 240 L 295.48 153.48 L 361 153.48 L 361 75.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 361 68.12 L 364.5 75.12 L 357.5 75.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 117.5 93 L 117.05 55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><ellipse cx="117" cy="51" rx="4" ry="4" fill="none" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 60 93 L 233 93 L 258 118 L 258 207 L 60 207 L 60 93 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 233 93 L 233 118 L 258 118" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 191px; height: 1px; padding-top: 150px; margin-left: 67px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">if (flyweight[key] exists) {<br /><span style="white-space: pre;">	</span>return existing flyweight;<br />} else {<br /><span style="white-space: pre;">	</span>create new flyweight;<br /><span style="white-space: pre;">	</span>add it to pool of flyweights;<br /><span style="white-space: pre;">	</span>return the new flyweight;<br />}</div></div></div></foreignObject><text x="67" y="154" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">if (flyweight[key] exists) {...</text></switch></g><ellipse cx="284.5" cy="17.5" rx="2.5" ry="2.5" fill="#000000" stroke="none" pointer-events="none"/><path d="M 134.01 17.44 L 204.52 17.41 L 273.88 17.49" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 127.01 17.44 L 130.51 15.38 L 134.01 17.44 L 130.51 19.5 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 280.88 17.5 L 273.88 19.82 L 273.88 15.16 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 8px; margin-left: 160px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">flyweights</div></div></div></foreignObject><text x="160" y="11" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">flyweights</text></switch></g><path d="M 216 270 L 216 240 L 375 240 L 375 270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 216 270 L 216 331 L 375 331 L 375 270" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 216 270 L 375 270" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 247px; margin-left: 223px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><span style="font-weight: 700;">ConcreteFlyweight</span></div></div></div></foreignObject><text x="223" y="259" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ConcreteFlyweight</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-221-270-150-30-0)" font-size="12px"><text x="222.5" y="289.5">Operation(extrinsicState)</text></g><path d="M 216 300.5 L 375 300.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-221-301-150-30-0)" font-size="12px"><text x="222.5" y="320.5">intrinsicState</text></g><path d="M 467 270 L 467 240 L 659 240 L 659 270" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 467 270 L 467 331 L 659 331 L 659 270" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 467 270 L 659 270" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 247px; margin-left: 474px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><span style="font-weight: 700;">UnsharedConcreteFlyweight</span></div></div></div></foreignObject><text x="474" y="259" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">UnsharedConcreteFlyweight</text></switch></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-472-270-183-30-0)" font-size="12px"><text x="473.5" y="289.5">Operation(extrinsicState)</text></g><path d="M 467 300.5 L 659 300.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-472-301-183-30-0)" font-size="12px"><text x="473.5" y="320.5">allState</text></g><path d="M 563 240 L 563 153.48 L 361 153.48 L 361 75.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 361 68.12 L 364.5 75.12 L 357.5 75.12 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 102 389 L 413 389 L 413 249.28 L 460.44 249.28" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 465.69 249.28 L 458.69 252.78 L 460.44 249.28 L 458.69 245.78 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>